---
sidebar_position: 3
title: "ERC20BurnFacet"
description: "Burn ERC-20 tokens from caller or delegated accounts."
gitSource: "https://github.com/Perfect-Abstractions/Compose/tree/main/src/token/ERC20/ERC20/ERC20BurnFacet.sol"
---

import DocSubtitle  from '@site/src/components/docs/DocSubtitle';
import Badge from '@site/src/components/ui/Badge';
import Callout from '@site/src/components/ui/Callout';
import CalloutBox from '@site/src/components/ui/CalloutBox';
import Accordion, { AccordionGroup } from '@site/src/components/ui/Accordion';
import PropertyTable from '@site/src/components/api/PropertyTable';
import ExpandableCode from '@site/src/components/code/ExpandableCode';
import CodeShowcase from '@site/src/components/code/CodeShowcase';
import RelatedDocs from '@site/src/components/docs/RelatedDocs';
import WasThisHelpful from '@site/src/components/docs/WasThisHelpful';
import LastUpdated from '@site/src/components/docs/LastUpdated';
import ReadingTime from '@site/src/components/docs/ReadingTime';
import GradientText from '@site/src/components/ui/GradientText';
import GradientButton from '@site/src/components/ui/GradientButton';

<DocSubtitle>
Burn ERC-20 tokens from caller or delegated accounts.
</DocSubtitle>

<Callout type="info" title="Key Features">
- Allows callers to burn tokens from their own balance, reducing total supply.
- Enables burning tokens from a specified account using approved allowances.
- Emits `Transfer` events to the zero address upon successful burns, adhering to ERC-20 standards.
</Callout>

## Overview

The ERC20BurnFacet provides functionality to destroy ERC-20 tokens. It allows token holders to burn their own tokens and enables delegated spending to burn tokens on behalf of another account, reducing the total supply. This facet integrates seamlessly with other ERC-20 facets within a Compose diamond.

---

## Storage

### ERC20Storage

<ExpandableCode language="solidity" maxLines={15} title="Definition">
{`struct ERC20Storage {
    mapping(address owner => uint256 balance) balanceOf;
    uint256 totalSupply;
    mapping(address owner => mapping(address spender => uint256 allowance)) allowance;
}`}
</ExpandableCode>

### State Variables

<PropertyTable
  properties={[
    {
      name: "STORAGE_POSITION",
      type: "bytes32",
      description: "Diamond storage slot position for this module (Value: `keccak256(\"compose.erc20\")`)"
    }
  ]}
  showRequired={false}
/>

## Functions

### burn

Burns (destroys) a specific amount of tokens from the caller's balance. Emits a Transfer event to the zero address.

<ExpandableCode language="solidity" maxLines={8}>
{`function burn(uint256 _value) external;`}
</ExpandableCode>

**Parameters:**

<PropertyTable
  properties={[
    {
      name: "_value",
      type: "uint256",
      description: "The amount of tokens to burn."
    }
  ]}
  showRequired={false}
/>

---
### burnFrom

Burns tokens from another account, deducting from the caller's allowance. Emits a Transfer event to the zero address.

<ExpandableCode language="solidity" maxLines={8}>
{`function burnFrom(address _account, uint256 _value) external;`}
</ExpandableCode>

**Parameters:**

<PropertyTable
  properties={[
    {
      name: "_account",
      type: "address",
      description: "The address whose tokens will be burned."
    },
    {
      name: "_value",
      type: "uint256",
      description: "The amount of tokens to burn."
    }
  ]}
  showRequired={false}
/>

## Events

<AccordionGroup>
  <Accordion title="Transfer" defaultOpen={false}>
    <div style={{marginBottom: "1rem"}}>
      Emitted when tokens are transferred between two addresses.
    </div>

    <div style={{marginBottom: "1rem"}}>
      <strong>Signature:</strong>
      <ExpandableCode language="solidity" maxLines={5}>
{`event Transfer(address indexed _from, address indexed _to, uint256 _value);`}
      </ExpandableCode>
    </div>

    <div style={{marginBottom: "1rem"}}>
      <strong>Parameters:</strong>
      <PropertyTable
        properties={[
          {
            name: "_from",
            type: "address",
            description: "Address sending the tokens."
          },
          {
            name: "_to",
            type: "address",
            description: "Address receiving the tokens."
          },
          {
            name: "_value",
            type: "uint256",
            description: "Amount of tokens transferred."
          }
        ]}
        showRequired={false}
      />
    </div>
  </Accordion>
</AccordionGroup>

## Errors

<AccordionGroup>
  <Accordion title="ERC20InsufficientBalance" defaultOpen={false}>
    <div style={{marginBottom: "1rem"}}>
      Thrown when an account has insufficient balance for a transfer or burn.
    </div>

    <div>
      <strong>Signature:</strong>
      <ExpandableCode language="solidity" maxLines={5}>
error ERC20InsufficientBalance(address _sender, uint256 _balance, uint256 _needed);
      </ExpandableCode>
    </div>
  </Accordion>
  <Accordion title="ERC20InsufficientAllowance" defaultOpen={false}>
    <div style={{marginBottom: "1rem"}}>
      Thrown when a spender tries to use more than the approved allowance.
    </div>

    <div>
      <strong>Signature:</strong>
      <ExpandableCode language="solidity" maxLines={5}>
error ERC20InsufficientAllowance(address _spender, uint256 _allowance, uint256 _needed);
      </ExpandableCode>
    </div>
  </Accordion>
</AccordionGroup>

## Usage Example

<ExpandableCode language="solidity" maxLines={20} title="Example Implementation">
{`pragma solidity ^0.8.30;

import { IDiamondCut } from "@compose/diamond/contracts/IDiamondCut.sol";
import { ERC20BurnFacet } from "@compose/token/ERC20/ERC20/ERC20BurnFacet";
import { IERC20 } from "@compose/token/ERC20/IERC20.sol";

contract DeployDiamond {
    function deploy() external {
        ERC20BurnFacet burnFacet = new ERC20BurnFacet();

        // Assume diamondCut is the IDiamondCut interface of the deployed diamond
        // Assume selectors for burn and burnFrom are correctly defined

        // Add the ERC20BurnFacet to the diamond
        IDiamondCut.FacetCut[] memory cut = new IDiamondCut.FacetCut[](1);
        cut[0] = IDiamondCut.FacetCut({
            facetAddress: address(burnFacet),
            action: IDiamondCut.Action.ADD,
            selectors: bytes4[] memory {
                ERC20BurnFacet.burn.selector,
                ERC20BurnFacet.burnFrom.selector
            }
        });
        // diamondCut.diamondCut(cut, address(0), ""); // Execute the cut

        // Example of burning tokens
        // IERC20(diamondAddress).burn(100 * 1 ether); // If diamondAddress is the ERC20 token address
        // IERC20(diamondAddress).burnFrom(userAddress, 50 * 1 ether);
    }
}`}
</ExpandableCode>

## Best Practices

<Callout type="tip" title="Best Practice">
- Initialize the ERC20BurnFacet as part of the diamond's initial deployment or upgrade process.
- Ensure appropriate access control mechanisms are in place if certain burning operations should be restricted.
- When interacting with the burn functions, always verify the expected token supply changes.
</Callout>

## Security Considerations

<Callout type="warning" title="Security">
The `burn` function operates on the caller's balance, requiring no special access control beyond token ownership. The `burnFrom` function relies on the ERC-20 `allowance` mechanism, meaning the caller must have been previously approved by the `_account` to spend tokens. Ensure the `allowance` is sufficient before calling `burnFrom` to prevent the `ERC20InsufficientAllowance` error.
</Callout>

<div style={{marginTop: "3rem", paddingTop: "2rem", borderTop: "1px solid var(--ifm-color-emphasis-200)"}}>
  <RelatedDocs
    items={[
      {
        title: "ERC20PermitFacet",
        href: "/docs/library/token/ERC20/ERC20Permit/ERC20PermitFacet",
        description: "Related facet in token",
        icon: "ðŸ’Ž"
      },
      {
        title: "ERC20Facet",
        href: "/docs/library/token/ERC20/ERC20/ERC20Facet",
        description: "Related facet in token",
        icon: "ðŸ’Ž"
      },
      {
        title: "ERC20Facet",
        href: "/docs/library/token/ERC20/ERC20/ERC20Facet",
        description: "Base facet for ERC20BurnFacet",
        icon: "ðŸ’Ž"
      }
    ]}
  />
</div>

<div style={{marginTop: "3rem", paddingTop: "2rem", borderTop: "1px solid var(--ifm-color-emphasis-200)"}}>
  <WasThisHelpful pageId="ERC20BurnFacet" />
</div>

<LastUpdated date="2025-12-30T17:09:55.007Z" />
