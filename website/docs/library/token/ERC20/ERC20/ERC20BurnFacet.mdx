---
sidebar_position: 3
title: "ERC20BurnFacet"
description: "Burns ERC-20 tokens from caller or another account"
gitSource: "https://github.com/Perfect-Abstractions/Compose/tree/main/src/token/ERC20/ERC20/ERC20BurnFacet.sol"
---

import DocSubtitle  from '@site/src/components/docs/DocSubtitle';
import Badge from '@site/src/components/ui/Badge';
import Callout from '@site/src/components/ui/Callout';
import CalloutBox from '@site/src/components/ui/CalloutBox';
import Accordion, { AccordionGroup } from '@site/src/components/ui/Accordion';
import PropertyTable from '@site/src/components/api/PropertyTable';
import ExpandableCode from '@site/src/components/code/ExpandableCode';
import CodeShowcase from '@site/src/components/code/CodeShowcase';
import RelatedDocs from '@site/src/components/docs/RelatedDocs';
import WasThisHelpful from '@site/src/components/docs/WasThisHelpful';
import LastUpdated from '@site/src/components/docs/LastUpdated';
import ReadingTime from '@site/src/components/docs/ReadingTime';
import GradientText from '@site/src/components/ui/GradientText';
import GradientButton from '@site/src/components/ui/GradientButton';

<DocSubtitle>
Burns ERC-20 tokens from caller or another account
</DocSubtitle>

<Callout type="info" title="Key Features">
- External functions for burning tokens.
- Emits `Transfer` event upon successful burn.
- Compatible with ERC-2535 diamond standard.
- Leverages diamond storage for state.
</Callout>

## Overview

This facet implements ERC-20 token burning functionality within a diamond proxy. It provides external functions to destroy tokens, reducing the total supply. Developers integrate this facet to enable token destruction mechanisms, adhering to the diamond storage pattern for state management.

---

## Storage

### ERC20Storage

<ExpandableCode language="solidity" maxLines={15} title="Definition">
{`struct ERC20Storage {
    mapping(address owner => uint256 balance) balanceOf;
    uint256 totalSupply;
    mapping(address owner => mapping(address spender => uint256 allowance)) allowance;
}`}
</ExpandableCode>

### State Variables

<PropertyTable
  properties={[
    {
      name: "STORAGE_POSITION",
      type: "bytes32",
      description: "Diamond storage slot position for this module (Value: `keccak256(\"compose.erc20\")`)"
    }
  ]}
  showRequired={false}
/>

## Functions

### burn

Burns (destroys) a specific amount of tokens from the caller's balance. Emits a Transfer event to the zero address.

<ExpandableCode language="solidity" maxLines={8}>
{`function burn(uint256 _value) external;`}
</ExpandableCode>

**Parameters:**

<PropertyTable
  properties={[
    {
      name: "_value",
      type: "uint256",
      description: "The amount of tokens to burn."
    }
  ]}
  showRequired={false}
/>

---
### burnFrom

Burns tokens from another account, deducting from the caller's allowance. Emits a Transfer event to the zero address.

<ExpandableCode language="solidity" maxLines={8}>
{`function burnFrom(address _account, uint256 _value) external;`}
</ExpandableCode>

**Parameters:**

<PropertyTable
  properties={[
    {
      name: "_account",
      type: "address",
      description: "The address whose tokens will be burned."
    },
    {
      name: "_value",
      type: "uint256",
      description: "The amount of tokens to burn."
    }
  ]}
  showRequired={false}
/>

## Events

<AccordionGroup>
  <Accordion title="Transfer" defaultOpen={false}>
    <div style={{marginBottom: "1rem"}}>
      Emitted when tokens are transferred between two addresses.
    </div>

    <div style={{marginBottom: "1rem"}}>
      <strong>Signature:</strong>
      <ExpandableCode language="solidity" maxLines={5}>
{`event Transfer(address indexed _from, address indexed _to, uint256 _value);`}
      </ExpandableCode>
    </div>

    <div style={{marginBottom: "1rem"}}>
      <strong>Parameters:</strong>
      <PropertyTable
        properties={[
          {
            name: "_from",
            type: "address",
            description: "Address sending the tokens."
          },
          {
            name: "_to",
            type: "address",
            description: "Address receiving the tokens."
          },
          {
            name: "_value",
            type: "uint256",
            description: "Amount of tokens transferred."
          }
        ]}
        showRequired={false}
      />
    </div>
  </Accordion>
</AccordionGroup>

## Errors

<AccordionGroup>
  <Accordion title="ERC20InsufficientBalance" defaultOpen={false}>
    <div style={{marginBottom: "1rem"}}>
      Thrown when an account has insufficient balance for a transfer or burn.
    </div>

    <div>
      <strong>Signature:</strong>
      <ExpandableCode language="solidity" maxLines={5}>
error ERC20InsufficientBalance(address _sender, uint256 _balance, uint256 _needed);
      </ExpandableCode>
    </div>
  </Accordion>
  <Accordion title="ERC20InsufficientAllowance" defaultOpen={false}>
    <div style={{marginBottom: "1rem"}}>
      Thrown when a spender tries to use more than the approved allowance.
    </div>

    <div>
      <strong>Signature:</strong>
      <ExpandableCode language="solidity" maxLines={5}>
error ERC20InsufficientAllowance(address _spender, uint256 _allowance, uint256 _needed);
      </ExpandableCode>
    </div>
  </Accordion>
</AccordionGroup>

<!-- Usage Example section commented out for now -->
<!--
## Usage Example

<ExpandableCode language="solidity" maxLines={20} title="Example Implementation">
{`pragma solidity >=0.8.30;

import {IDiamond} from "@compose/diamond/IDiamond.sol";
import {ERC20BurnFacet} from "@compose/token/ERC20/ERC20/ERC20BurnFacet";

contract ExampleDiamondUser {
    IDiamond diamond;

    constructor(address _diamondAddress) {
        diamond = IDiamond(_diamondAddress);
    }

    /**
     * @notice Burns tokens from the caller's balance.
     * @param _value The amount of tokens to burn.
     */
    function burnMyTokens(uint256 _value) external {
        // Calls the burn function exposed by the ERC20BurnFacet via the diamond proxy
        diamond.burn(_value);
    }

    /**
     * @notice Burns tokens from a specified account, deducting from the caller's allowance.
     * @param _account The account whose tokens will be burned.
     * @param _value The amount of tokens to burn.
     */
    function burnFromAccount(address _account, uint256 _value) external {
        // Calls the burnFrom function exposed by the ERC20BurnFacet via the diamond proxy
        diamond.burnFrom(_account, _value);
    }
}`}
</ExpandableCode>
-->

## Best Practices

<Callout type="tip" title="Best Practice">
- Call `burn` or `burnFrom` through the diamond proxy address.
- Ensure necessary allowances are set before calling `burnFrom`.
- Verify the diamond is initialized with the `ERC20BurnFacet` before invoking its functions.
</Callout>

## Security Considerations

<Callout type="warning" title="Security">
The `burn` function reduces the caller's balance. The `burnFrom` function requires an allowance to be set for the caller on the specified account. Both functions are protected against insufficient balance or allowance by reverting with `ERC20InsufficientBalance` or `ERC20InsufficientAllowance` errors respectively. Follow standard Solidity security practices.
</Callout>

<div style={{marginTop: "3rem", paddingTop: "2rem", borderTop: "1px solid var(--ifm-color-emphasis-200)"}}>
  <RelatedDocs
    items={[
      {
        title: "ERC20PermitFacet",
        href: "/docs/library/token/ERC20/ERC20Permit/ERC20PermitFacet",
        description: "Related facet in token",
        icon: "ðŸ’Ž"
      },
      {
        title: "ERC20Facet",
        href: "/docs/library/token/ERC20/ERC20/ERC20Facet",
        description: "Related facet in token",
        icon: "ðŸ’Ž"
      },
      {
        title: "ERC20Facet",
        href: "/docs/library/token/ERC20/ERC20/ERC20Facet",
        description: "Base facet for ERC20BurnFacet",
        icon: "ðŸ’Ž"
      }
    ]}
  />
</div>

<div style={{marginTop: "3rem", paddingTop: "2rem", borderTop: "1px solid var(--ifm-color-emphasis-200)"}}>
  <WasThisHelpful pageId="ERC20BurnFacet" />
</div>

<LastUpdated date="2025-12-30T20:08:16.861Z" />
