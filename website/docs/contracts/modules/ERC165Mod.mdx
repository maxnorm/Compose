---
sidebar_position: 99
title: "ERC165Mod"
description: "LibERC165 — ERC-165 Standard Interface Detection Library - Provides internal functions and storage layout for ERC-165 interface detection."
---

import DocHero from '@site/src/components/docs/DocHero';
import Callout from '@site/src/components/ui/Callout';


## Overview

LibERC165 — ERC-165 Standard Interface Detection Library - Provides internal functions and storage layout for ERC-165 interface detection.


[View Source](https://github.com/maxnorm/Compose/blob/eabc77b81e461d751a5a8e003c3a9c2e818b9d3c/src/interfaceDetection/ERC165/ERC165Mod.sol)



<Callout type="info" title="Key Features">
- All functions are `internal` for use in custom facets
- Follows diamond storage pattern (EIP-8042)
- Compatible with ERC-2535 diamonds
- No external dependencies or `using` directives
</Callout>



<Callout type="info" title="Module Usage">
This module provides internal functions for use in your custom facets. Import it to access shared logic and storage.
</Callout>


## Storage


Storage position: `STORAGE_POSITION` - Used for diamond storage pattern.



### State Variables


#### STORAGE_POSITION







## Functions


### getStorage


Returns a pointer to the ERC-165 storage struct. Uses inline assembly to bind the storage struct to the fixed storage position. **Returns**



```solidity
function getStorage() pure returns (ERC165Storage storage s);
```




**Returns**

| Name | Type | Description |
|------|------|-------------|

| `s` | `ERC165Storage` | The ERC-165 storage struct. |




### registerInterface


Register that a contract supports an interface Call this function during initialization to register supported interfaces. For example, in an ERC721 facet initialization, you would call: `LibERC165.registerInterface(type(IERC721).interfaceId)` **Parameters**



```solidity
function registerInterface(bytes4 _interfaceId) ;
```



**Parameters**

| Name | Type | Description |
|------|------|-------------|

| `_interfaceId` | `bytes4` | The interface ID to register |









## Structs


### ERC165Storage



```solidity
struct ERC165Storage {
/*
 * @notice Mapping of interface IDs to whether they are supported
 */
mapping(bytes4 =&gt; bool) supportedInterfaces;
}
```









## Integration Notes

<Callout type="success" title="Shared Storage">
This module accesses shared diamond storage, so changes made through this module are immediately visible to facets using the same storage pattern. All functions are internal as per Compose conventions.
</Callout>




